<ion-header class="bg-white" [translucent]="true">
  <ion-toolbar class="ion-margin-top" mode="ios">
    <ion-searchbar (ionInput)="searchStudents($event)"></ion-searchbar>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-title class="ion-margin-top">Data Mahasiswa Baru</ion-title>
  <ion-list [inset]="true" mode="ios">
    <ion-item-group *ngFor="let student of filteredStudents">
      <ion-item [button]="true" (click)="toggleStudentDetail(student)">
        <ion-avatar aria-hidden="true" slot="start">
          <img alt="" src="https://ionicframework.com/docs/img/demos/avatar.svg" />
        </ion-avatar>
        <ion-label>{{ student.name }}</ion-label>
        <ion-icon [name]="student.expanded ? 'chevron-up-outline' : 'chevron-down-outline'" slot="end"></ion-icon>
      </ion-item>
      <ion-item-options slot="end">
        <ion-item-option color="warning">
          <ion-icon name="create-outline" (click)="editStudent(student)"></ion-icon>
        </ion-item-option>
        <ion-item-option color="tertiary">
          <ion-icon name="ellipsis-horizontal-circle-outline" (click)="viewStudentDetail(student)">
          </ion-icon>
        </ion-item-option>
        <ion-item-option color="danger" expandable="true">
          <ion-icon name="trash-outline" ></ion-icon>
        </ion-item-option>
      </ion-item-options>
      <ion-item *ngIf="student.expanded">
        <ion-label>
          <h2>Email: {{ student.email || 'N/A' }}</h2>
          <p>Work Status: {{ student.workStatus || 'N/A' }}</p>
          <p>Born Date: {{ student.bornDate || 'N/A' }}</p>
          <p>Gender: {{ student.genderOption || 'N/A' }}</p>
          <p>Religion: {{ student.religionOption || 'N/A' }}</p>
          <p>WhatsApp: {{ student.whatsappNumber || 'N/A' }}</p>
          <p>Address: {{ student.homeAddress || 'N/A' }}</p>
          <p>Registered: {{ student.isRegister ? 'Yes' : 'No' }}</p>
          <p>Role: {{ student.role }}</p>
        </ion-label>
      </ion-item>
    </ion-item-group>
  </ion-list>
</ion-content>
